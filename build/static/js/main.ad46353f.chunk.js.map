{"version":3,"sources":["components/StyledComponents/index.js","store/auth.js","functions/auth.js","components/Auth/Registration.js","components/Auth/Login.js","components/Navigation/Navigation.js","components/UI/EditField.js","components/UI/SelectGender.js","components/UI/PersonSettings.js","components/UI/Upload.js","store/person.js","components/UI/ExploredImage.js","components/Pages/HomePage.js","components/UI/PersonCard.js","components/Pages/PersonsPage.js","App.js","store/index.js","index.js"],"names":["GlobalStyle","createGlobalStyle","FormWrapper","styled","div","ImgContainer","props","width","UploadWrapper","BoundingBox","box","proportion","height","y","x","selected","SettingsContainer","form","Button","button","Instuctions","PageContainer","PersonInfo","CardWrapper","EditCard","initialState","emailError","passError","loader","user","localStorage","getItem","authSlice","createSlice","name","reducers","setEmailError","state","action","payload","setPassError","setLoader","setUser","setItem","logoutUser","authActions","actions","dispatch","email","password","type","history","a","url","requestBody","axios","post","res","data","access_token","JSON","stringify","token","push","response","error","message","handleSubmit","e","preventDefault","valid","trim","includes","length","checkValidity","makeRequest","Registration","useState","setEmail","setPassword","useSelector","auth","useDispatch","useHistory","Form","onSubmit","Group","controlId","Label","Control","placeholder","value","onChange","target","Alert","variant","Spinner","animation","to","Login","Navigation","parse","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","id","Nav","className","style","maxHeight","alignItems","navbarScroll","exact","Link","onClick","removeItem","handleLogout","EditField","label","edit","setValue","useEffect","htmlFor","SelectGender","fontSize","fontWeight","PersonSettings","prop","image","personObj","person","loading","setMessage","setError","demographics","bbox","uploadPerson","Name","Midname","Surname","Age","Gender","database_id","db","headers","Authorization","uploadPhoto","position","midname","surname","age","mean","gender","Upload","icon","faPlus","faPen","personSlice","setPerson","personActions","ExploredImage","setSelected","faces","map","face","i","handleClick","HomePage","setImage","setProportion","setFaces","handleDetect","getDatabase","get","accept","createDatabase","src","URL","createObjectURL","img","Image","onload","naturalWidth","handleUpload","files","PersonCard","photo","setPhoto","setEdit","getPhoto","handleDelete","delete","getPersons","faTrashAlt","PersonsPage","persons","setPersons","App","Container","path","component","store","configureStore","reducer","authReducer","personReducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ad46353f.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport {createGlobalStyle } from \"styled-components\"\n\nexport const GlobalStyle = createGlobalStyle`\n*{\n    margin: 0;\n    padding: 0;\n    font-family: 'Urbanist', sans-serif;\n}\n`\n\nexport const FormWrapper = styled.div`\n  max-width: 500px;\n  display: flex;\n  flex-direction: column;\n  margin: 20% auto;\n`;\n\nexport const ImgContainer = styled.div`\n  width: ${(props) => props.width}px;\n  position: relative;\n  margin: 20px auto;\n  & > img {\n    width: 100%;\n  }\n`;\n\nexport const UploadWrapper = styled.div`\n  font-size: 15px;\n  margin: 10px auto;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  & > label {\n    font-size: 25px;\n    color: #0069d9;\n    margin-bottom: -10px;\n  }\n\n  & > label:hover {\n    color: #002a57;\n  }\n  & > input {\n    display: none;\n  }\n`;\n\nexport const BoundingBox = styled.div`\n  position: absolute;\n  width: ${(props) => props.box.width/props.proportion}px;\n  height: ${(props) => props.box.height/props.proportion}px;\n  top: ${(props) => props.box.y/props.proportion}px;\n  left: ${(props) => props.box.x/props.proportion}px;\n  z-index: 10;\n  border-style: solid;\n  border-color: ${(props) => props.selected ? 'red' : 'blue'};\n  border-width: ${(props) => props.selected ? '3px' : '1px'}; \n  border-radius: 6px;\n\n  &:hover{\n      border: 3px solid #0069D9;\n  }\n`;\n\nexport const SettingsContainer = styled.form`\nwidth: 100%;\nmax-width: 600px;\nbackground: #343A40;\npadding: 20px;\nmargin: 20px 0;\n& > input{\n    width: 100%;\n    padding: 5px;\n    margin-bottom: 20px;\n    font-size: 18px;\n}\n& > label{\n    font-size: 20px;\n    color: #fff;\n    margin: 0;\n}\n`\n\nexport const Button = styled.button`\nborder: none;\nmargin: 10px auto;\nmin-width: 100px;\nheight: 40px;\nborder-radius: 5px;\nbackground: #0069D9;\ncolor: #fff;\n&:hover{\n    background: #002a57;\n}\n`\n\nexport const Instuctions = styled.div`\nwidth: 100%;\ntext-align: center;\n`\n\nexport const PageContainer = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\npadding: 10px;\n`\n\nexport const PersonInfo = styled.form`\nfont-size: 25px;\n& > span{\n    margin-top: -15px;\n    margin-bottom: -5px;\n    display: block;\n    font-family: 'Roboto';\n}\n& > label{\n    font-size: 15px;\n    text-decoration: underline;\n}\n& > input{\n    width: 100%;\n}\n`\n\n\nexport const CardWrapper = styled.div`\ndisplay: flex;\nflex-wrap: wrap;\nwidth: 100%;\nmax-width: 600px;\nbackground: #F8F8FF;\ncolor: #000;\npadding: 20px;\nmargin-bottom: 20px;\n& >  ${ImgContainer}{\n    flex: 1;\n    margin: -20px;\n    margin-right: 20px;\n    margin-bottom: 0px;\n    min-width: 100px;\n    background: #F8F8FF;\n};\n\n& > ${PersonInfo} {\n    flex: 2;\n    min-width: 300px;\n}\nbox-shadow: 0.25px 1.5px 5px #999999;\n`\n\nexport const ShowMore = styled.button`\nbackground: none;\nborder: none;\ncolor: #fff;\n&:hover{\n    color: #0069D9;\n}\n`\n\nexport const EditCard = styled.div`\ntext-align: right;\nwidth: 100%;\n& span:nth-child(1):hover{\n    color: #0069d9;\n};\n& span:nth-child(2):hover{\n    color: #FF3A20;\n}\n& span{\n    color: #000;\n};\n\n& span{\n    margin-left: 10px;\n}\n`\n\n","import {createSlice} from '@reduxjs/toolkit'\n\n\nconst initialState = {emailError: '', passError: '', loader: false, user: localStorage.getItem('user') || null}\n\nconst authSlice = createSlice({\n    name: 'auth',\n    initialState,\n    reducers: {\n        setEmailError(state, action) {\n            state.emailError = action.payload\n        },\n        setPassError(state, action){\n            state.passError = action.payload\n        },\n        setLoader(state, action){\n            state.loader = action.payload\n        },\n        setUser(state, action){\n            state.user = action.payload\n            localStorage.setItem('user', action.payload)\n        },\n        logoutUser(state){\n            state.user = null\n        }\n    }\n})\n\n\nexport const authActions = authSlice.actions\n\nexport default authSlice.reducer\n\n","import axios from \"axios\";\nimport { authActions } from \"../store/auth\";\n\n//check form for errors\nexport function checkValidity(dispatch, email, password) {\n  let valid = true;\n  //validate email\n  if (!email.trim() || !email.includes(\"@\")) {\n    dispatch(authActions.setEmailError(\"Enter a valid Email!\"));\n    valid = false;\n  }\n  //validate password\n  if (!password.trim()) {\n    dispatch(authActions.setPassError(\"Enter a password!\"));\n    valid = false;\n  }\n  if (password.trim().length < 8) {\n    dispatch(\n      authActions.setPassError(\"Password must be at least 8 characters!\")\n    );\n    valid = false;\n  }\n  return valid;\n}\n\n//login/register request\nexport async function makeRequest(dispatch, email, password, type, history) {\n  //login/register url\n  const url = `https://backend.facecloud.tevian.ru/api/v1/${\n    type === \"LOGIN\" ? \"login\" : \"users\"\n  }`;\n\n  const requestBody = {\n    email,\n    password,\n  };\n\n  //add billing_type, if current request is registration\n  if (type === \"REGISTER\") {\n    requestBody[\"billing_type\"] = \"demo\";\n  }\n\n  try {\n    const res = await axios.post(url, requestBody);\n    if (res.data.data.access_token) {\n      const user = JSON.stringify({ email, token: res.data.data.access_token }); // create user \n      localStorage.setItem(\"user\", user); //save user into localStorage\n      dispatch(authActions.setUser(user)); //save user into redux\n      history.push(\"/\"); //redirect to home page\n    }\n    if (type === \"REGISTER\") {\n      history.push(\"/login\"); //redirect to login page if registration is successful\n    }\n  } catch (e) {\n    //set error\n    if (e.response.data.error) {\n      dispatch(authActions.setEmailError(e.response.data.error.email[0]));\n    } else if (e.response.data.message) {\n      dispatch(authActions.setPassError(e.response.data.message));\n    }\n  } finally {\n    dispatch(authActions.setLoader(false)); //turn loader off\n  }\n}\n\n//send form\nexport function handleSubmit(e, dispatch, email, password, type, history) {\n  e.preventDefault();\n  dispatch(authActions.setEmailError(\"\")); //hide email errors\n  dispatch(authActions.setPassError(\"\")); //hide password errors\n  const valid = checkValidity(dispatch, email, password, type); \n  if (!valid) return;\n  dispatch(authActions.setLoader(true)); //turn loader on\n  makeRequest(dispatch, email, password, type, history);\n}\n\nexport function handleLogout(dispatch, history) {\n  localStorage.removeItem(\"user\"); //delete user\n  dispatch(authActions.logoutUser());\n  history.push(\"/login\"); //redirect to login page\n}\n","import { useState } from \"react\";\nimport {Link, useHistory} from 'react-router-dom'\nimport { FormWrapper } from '../StyledComponents';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Form, Button, Alert, Spinner } from \"react-bootstrap\";\nimport {handleSubmit} from '../../functions/auth'\n\n\nconst Registration = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const emailError = useSelector((state) => state.auth.emailError);\n  const passError = useSelector((state) => state.auth.passError);\n  const loader = useSelector((state) => state.auth.loader);\n  const dispatch = useDispatch();\n  const history = useHistory()\n\n  return (\n    <FormWrapper>\n      <Form onSubmit={(e) => handleSubmit(e, dispatch, email, password, 'REGISTER', history)}>\n        <Form.Group controlId=\"formBasicEmail\">\n        <h1>Sign Up</h1>\n          <Form.Label>Email address</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            name=\"email\"\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </Form.Group>\n        {emailError && <Alert variant=\"danger\">{emailError}</Alert>}\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            name=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Form.Group>\n  \n        {passError && <Alert variant='danger'>{passError}</Alert>}\n  \n        {!loader && <Button variant=\"primary\" type=\"submit\">\n          Sign up\n        </Button>}\n        {loader &&  <Spinner animation=\"border\" variant=\"primary\" />}\n        \n      </Form>\n      <br/>\n        <span>Already have an account? <Link to=\"/login\">Log in</Link></span>\n    </FormWrapper>\n  );\n};\n\nexport default Registration;\n","import { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Form, Button, Alert, Spinner } from \"react-bootstrap\";\nimport { FormWrapper } from \"../StyledComponents\";\nimport { handleSubmit } from \"../../functions/auth\";\n\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const emailError = useSelector((state) => state.auth.emailError);\n  const passError = useSelector((state) => state.auth.passError);\n  const loader = useSelector((state) => state.auth.loader);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  return (\n    <FormWrapper>\n      <Form\n        onSubmit={(e) =>\n          handleSubmit(e, dispatch, email, password, \"LOGIN\", history)\n        }\n      >\n        <h1>Log In</h1>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            name=\"email\"\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </Form.Group>\n        {emailError && <Alert variant=\"danger\">{emailError}</Alert>}\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            name=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Form.Group>\n\n        {passError && <Alert variant=\"danger\">{passError}</Alert>}\n\n        {!loader && (\n          <Button variant=\"primary\" type=\"submit\">\n            Submit\n          </Button>\n        )}\n        {loader && <Spinner animation=\"border\" variant=\"primary\" />}\n      </Form>\n      <br />\n      <span>\n        Don't have an account? <Link to=\"/register\">Sign Up</Link>\n      </span>\n    </FormWrapper>\n  );\n};\n\nexport default Login;\n","import { Link, useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { handleLogout } from \"../../functions/auth\";\nimport { Navbar, Nav } from \"react-bootstrap\";\nimport { Button } from \"../StyledComponents/index\";\n\nconst Navigation = () => {\n  const user = JSON.parse(useSelector((state) => state.auth.user));\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  return (\n    <Navbar bg=\"light\" expand=\"lg\">\n      <Navbar.Brand href=\"#\">Tevian</Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"navbarScroll\" />\n      <Navbar.Collapse id=\"navbarScroll\">\n        <Nav\n          className=\"mr-auto my-2 my-lg-0\"\n          style={{ maxHeight: \"30vh\", alignItems: \"center\" }}\n          navbarScroll\n        >\n          <Nav>\n            <Link exact to=\"/\">Home</Link>\n          </Nav>\n          &nbsp;&nbsp;\n          <Nav>\n            <Link to=\"/persons\">Persons</Link>\n          </Nav>\n        </Nav>\n        <Nav style={{ maxHeight: \"30vh\", alignItems: \"center\" }}>\n          {user && <Nav.Link>{user.email}</Nav.Link>}\n          {user && (\n            <Button onClick={(e) => handleLogout(dispatch, history)}>\n              Log out\n            </Button>\n          )}\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default Navigation;\n","import {useState, useEffect} from \"react\";\n\nconst EditField = (props) => {\n    const {label, edit, type='text', data=''} = props\n    const [value, setValue] = useState(data)\n\n    useEffect(() => {\n        setValue(data)\n    }, [data])\n\n  return (\n    <>\n      <label htmlFor={label}>{label}:</label>\n      {!edit && <span id={label}>{data}</span>}\n      {edit && <input name={label} type={type} value={value} onChange={e => setValue(e.target.value)}/>}\n    </>\n  );\n};\n\nexport default EditField;","import {useState, useEffect} from \"react\";\n\nconst SelectGender = (props) => {\n    const {label, edit, type='text'} = props\n    const [data, setValue] = useState(props.data)\n    useEffect(() => {\n        setValue(props.data)\n    }, [props.data])\n\n  return (\n    <>\n      <label htmlFor={label}>{label}:</label>\n      <br/>\n      {!edit && <div>{data === 'male' ? <span>&#128102;</span> : <span>&#128103;</span>}<span id={label}>{data}</span></div>}\n      {edit && <select\n        style={{ fontSize: \"20px\", fontWeight: \"700\" }}\n        onChange={(e) => setValue(e.target.value)}\n        id={label}\n      >\n        <option selected={data === \"male\"} value=\"male\">\n          &#128102; Male\n        </option>\n        <option selected={data === \"female\"} value=\"female\">\n          &#128103; Female\n        </option>\n      </select>\n      }\n      <br/>\n    </>\n  );\n};\n\nexport default SelectGender;","import { SettingsContainer, Button } from \"../StyledComponents/index\";\nimport { authActions } from \"../../store/auth\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { Spinner, Alert } from \"react-bootstrap\";\nimport EditField from \"../UI/EditField\";\nimport SelectGender from \"./SelectGender\";\nimport axios from \"axios\";\n\nconst PersonSettings = (prop) => {\n  const { image } = prop;\n  const dispatch = useDispatch();\n  const user = JSON.parse(useSelector((state) => state.auth.user));\n  const personObj = useSelector((state) => state.person.person);\n  const loading = useSelector((state) => state.auth.loader);\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const person = personObj.demographics; //the selected person information \n  const bbox = personObj.bbox; //the selected person bbox\n  const url = \"https://backend.facecloud.tevian.ru/api/v1/\";\n\n  //clear messages if another person clicked\n  useEffect(() => {\n    setError(\"\");\n    setMessage(\"\");\n  }, [person]);\n\n  const uploadPerson = async (e) => {\n    e.preventDefault();\n    setMessage(\"\"); //clear message\n    setError(\"\"); //clear error\n    dispatch(authActions.setLoader(true)); //turn loader on\n\n    const { Name, Midname, Surname, Age, Gender } = e.target; //get fields values\n\n    //object to send\n    const data = {\n      data: {\n        Name: Name.value,\n        Midname: Midname.value,\n        Surname: Surname.value,\n        Age: Age.value,\n        Gender: Gender.value,\n      },\n      database_id: user.db,\n    };\n    try {\n      //add person into DB request\n      const res = await axios.post(`${url}persons`, data, {\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n      });\n\n      uploadPhoto(res.data.data.id); //upload the person photo\n      setMessage(\"Successfully Saved!\"); //set message\n    } catch (e) {\n      setError(\"Couldn't upload the person!\"); //set error\n    } finally {\n      dispatch(authActions.setLoader(false));\n    }\n  };\n\n  \n  const uploadPhoto = async (id) => {\n    const position = [bbox.x, bbox.y, bbox.width, bbox.height]; //recognized face position\n    try {\n      const res = await axios.post(\n        `${url}photos?face=${position}&person_id=${id}`,\n        image,\n        {\n          headers: {\n            Authorization: `Bearer ${user.token}`,\n            \"Content-Type\": \"image/jpeg\",\n          },\n        }\n      );\n    } catch (e) {\n      setError(\"Couldn't upload the person's photo!\");\n    }\n  };\n\n  return (\n    <SettingsContainer onSubmit={(e) => uploadPerson(e)}>\n      <EditField label=\"Name\" data={person.name} edit={true} />\n      <EditField label=\"Midname\" data={person.midname} edit={true} />\n      <EditField label=\"Surname\" data={person.surname} edit={true} />\n      <EditField label=\"Age\" data={person.age.mean} edit={true} type=\"number\" />\n      <SelectGender label=\"Gender\" data={person.gender} edit={true} />\n      {!loading && <Button type=\"submit\">Save</Button>}\n      {loading && <Spinner animation=\"border\" variant=\"primary\" />}\n      {message && <Alert variant=\"success\">{message}</Alert>}\n      {error && <Alert variant=\"danger\">{error}</Alert>}\n    </SettingsContainer>\n  );\n};\n\nexport default PersonSettings;\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faPen } from \"@fortawesome/free-solid-svg-icons\";\nimport { UploadWrapper } from \"../StyledComponents/index\";\n\n\nconst Upload = (props) => {\n  const {image} = props;\n  return (\n    <UploadWrapper>\n      <label htmlFor=\"upload\">\n        {!image && <FontAwesomeIcon icon={faPlus} />}\n        {image && <FontAwesomeIcon icon={faPen} />}\n      </label>\n      <span>{image ? 'Change the' : 'Add an'} image</span>\n      <input type=\"file\" id=\"upload\" {...props} />\n    </UploadWrapper>\n  );\n};\n\nexport default Upload;\n","import {createSlice} from '@reduxjs/toolkit'\n\n\nconst initialState = {person: null}\n\nconst personSlice = createSlice({\n    name: 'person',\n    initialState,\n    reducers: {\n        setPerson(state, action){\n            state.person = action.payload\n        }\n    }\n})\n\n\nexport const personActions = personSlice.actions\n\nexport default personSlice.reducer\n\n","import { useDispatch } from \"react-redux\";\nimport {useState, useEffect} from \"react\";\nimport { personActions } from \"../../store/person\";\nimport { ImgContainer, BoundingBox } from \"../StyledComponents/index\";\n\nconst ExploredImage = (props) => {\n  const dispatch = useDispatch();\n  const [selected, setSelected] = useState(null);\n  const handleClick = (i, face) => {\n    setSelected(i) //set id of the selected bbox\n    dispatch(personActions.setPerson(face)) //save selected person into redux\n  }\n  return (\n    <ImgContainer width={500}>\n      <img {...props} />\n      {props.faces\n        ? props.faces.map((face, i) => {\n            return (\n              <BoundingBox\n                key={'person'+i}\n                box={face.bbox}\n                proportion={props.proportion}\n                selected={selected === i} //paint the bbox border red if the current bbox is selected\n                onClick={(e) =>\n                  handleClick(i, face)\n                }\n              />\n            );\n          })\n        : null}\n    </ImgContainer>\n  );\n};\n\nexport default ExploredImage;\n","import { useEffect, useState } from \"react\";\nimport { authActions } from \"../../store/auth\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Instuctions, PageContainer } from \"../StyledComponents/index\";\nimport { Spinner, Alert } from \"react-bootstrap\";\nimport PersonSettings from \"../UI/PersonSettings\";\nimport Upload from \"../UI/Upload\";\nimport ExploredImage from \"../UI/ExploredImage\";\nimport axios from \"axios\";\n\nconst HomePage = () => {\n  const user = JSON.parse(useSelector((state) => state.auth.user)); //get user from redux\n  const loading = useSelector((state) => state.auth.loader)\n  const person = useSelector((state) => state.person.person);\n  const history = useHistory();\n  const [image, setImage] = useState(null);\n  const [proportion, setProportion] = useState(null);\n  const [faces, setFaces] = useState(null);\n  const [error, setError] = useState('');\n  const dispatch = useDispatch();\n  const url = \"https://backend.facecloud.tevian.ru/api/v1/\";\n\n\n  //image upload\n  const handleUpload = (src) => {\n    setImage(src); //save img to state\n\n    //process of getting img width\n    const img = new Image();\n    img.src = URL.createObjectURL(src);\n    img.onload = () => {\n      const width = img.naturalWidth;\n      setProportion(width / 500); //seting proportion. width - original img width. 500 - img width inside container.\n      //proportion is needed to convert bbox coords and size\n    };\n  };\n\n  //face recognition request  \n  const handleDetect = async () => {\n    dispatch(authActions.setLoader(true)); //turn loader on\n    try {\n      const res = await axios.post(`${url}detect?demographics=true`, image, {\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n          \"Content-Type\": \"image/jpeg\",\n        },\n      });\n      setFaces(res.data.data);\n    } catch (e) {\n      setError('Couldn\\'t recognize any face!') //set error\n    }\n    finally {\n      dispatch(authActions.setLoader(false)); //turn loader off\n    }\n  };\n\n  //get user's DB\n  const getDatabase = async () => {\n    try {\n      const res = await axios.get(`${url}databases?page=0&per_page=5`, {\n        headers: {\n          accept: \"application/json\",\n          Authorization: `Bearer ${user.token}`,\n        },\n      });\n\n      // save user's DB if exist, create if not\n      if (res.data.data[0]) {\n        user.db = res.data.data[0].id;\n        dispatch(authActions.setUser(JSON.stringify(user))); //add DB id to user model inside Redux\n      } else {\n        createDatabase(); //create DB\n      }\n    } catch (e) {\n      setError(\"Getting database error\"); //set error\n    }\n  };\n\n  // create DB request\n  const createDatabase = async () => {\n    try {\n      const res = await axios.post(\n        `${url}databases`,\n        {},\n        {\n          headers: {\n            Authorization: \"Bearer \" + user.token,\n            accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      user.db = res.data.data.id;\n      dispatch(authActions.setUser(JSON.stringify(user))); //add DB id to user model inside Redux\n    } catch (e) {\n      setError(\"Getting database error!\"); //set error\n    }\n  };\n\n  //get DB if authorized, redirect to login page if not\n  useEffect(() => {\n    if (user) {\n      getDatabase();\n    } else {\n      history.push(\"/login\"); //redirect to login page\n    }\n  }, []);\n\n  useEffect(() => {\n    setFaces(null)\n  }, [image])\n\n  \n  return (\n    <PageContainer>\n      {faces && (\n        <Instuctions>Click a face to see the person's parameters.</Instuctions>\n      )}\n      <ExploredImage\n        src={image ? URL.createObjectURL(image) : null}\n        faces={faces}\n        proportion={proportion}\n      />\n      {(image && !loading) && <Button onClick={handleDetect}>Detect Faces!</Button>}\n      {loading && <Spinner animation=\"border\" variant=\"primary\" />}\n      {!loading && <Upload onChange={(e) => handleUpload(e.target.files[0])} image={image} />}\n      {(image && person) && <PersonSettings image={image} />}\n      {error && <Alert variant=\"danger\">{error}</Alert>}\n    </PageContainer>\n  );\n};\n\nexport default HomePage;\n","import {\n  CardWrapper,\n  ImgContainer,\n  PersonInfo,\n  EditCard,\n  Button,\n} from \"../StyledComponents/index\";\nimport { Alert, Spinner } from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPen, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport EditField from \"../UI/EditField\";\nimport SelectGender from \"./SelectGender\";\nimport axios from \"axios\";\n\nconst PersonCard = (props) => {\n  const user = JSON.parse(useSelector((state) => state.auth.user));\n  const [loader, setLoader] = useState(false)\n  const [photo, setPhoto] = useState(null);\n  const [edit, setEdit] = useState(false);\n  const [error, setError] = useState('');\n  const { Name, Midname, Surname, Age, Gender } = props.person;\n  const url = \"https://backend.facecloud.tevian.ru/api/v1/\";\n\n\n  //get person\n  const getPhoto = async () => {\n    setLoader(true) //turn loader on\n    try {\n      //get photo id \n      const res = await axios.get(`${url}persons/${props.id}/photos`, {\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n      });\n\n      //get photo\n      const photo = await axios.get(\n        `${url}photos/${res.data.data[0].id}/image/face?width=0&height=0`,\n        {\n          headers: {\n            Authorization: `Bearer ${user.token}`,\n            accept: \"image/jpeg\",\n          },\n        }\n      );\n\n      setPhoto(res.data.data[0].id);\n    } catch (e) {\n      setError('Error loading the photo!') //set error message\n    }\n    finally {\n      setLoader(false) //turn loader off\n    }\n  };\n\n  //delete person\n  const handleDelete = async () => {\n    setLoader(true); //turn loader on\n    try {\n      const res = await axios.delete(`${url}persons/${props.id}`, {\n        headers: { Authorization: `Bearer ${user.token}` },\n      });\n      props.getPersons(); //reload the page after deleting\n    } catch (e) {\n      setError('Error during deleting occured!') //set error message\n    }\n    finally {\n      setLoader(false); //turn loader o\n    }\n  };\n\n  //edit person request\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const { Name, Midname, Surname, Age, Gender} = e.target;\n\n    //edited object\n    const data = {\n      data: {\n        Name: Name.value,\n        Midname: Midname.value,\n        Surname: Surname.value,\n        Age: Age.value,\n        Gender: Gender.value,\n      },\n    };\n    setLoader(true)\n    try {\n      //send edited object \n      const res = await axios.post(`${url}persons/${props.id}`, data, {\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n          accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n      });\n    } catch (e) {\n      setError('Cannot get the person!') //set error\n    } finally {\n      setEdit(false); //enable edit mode\n      setLoader(false) // turn loader off\n    }\n  };\n\n  //get persons photos on loading\n  useEffect(() => {\n    getPhoto();\n  }, []);\n\n  return (\n    <CardWrapper>\n      <ImgContainer width={150}>\n        {photo ? (\n          <img src={`${url}photos/${photo}/image/face?width=0&height=0`} />\n        ) : null}\n      </ImgContainer>\n        <>\n          <PersonInfo onSubmit={(e) => handleSubmit(e)}>\n            <EditField label=\"Name\" data={Name} edit={edit} />\n            <EditField label=\"Midname\" data={Midname} edit={edit} />\n            <EditField label=\"Surname\" data={Surname} edit={edit} />\n            <EditField label=\"Age\" data={Age} edit={edit} type=\"number\" />\n            <SelectGender label=\"Gender\" data={Gender} edit={edit} />\n            {(edit && !loader) && <Button type=\"submit\">Save</Button>}\n            {loader && <Spinner animation=\"border\" variant=\"primary\" />}\n          </PersonInfo>\n          {!edit && (\n            <EditCard>\n              <span>\n                <FontAwesomeIcon icon={faPen} onClick={(e) => setEdit(true)} />\n              </span>\n              <span>\n                <FontAwesomeIcon icon={faTrashAlt} onClick={handleDelete} />\n              </span>\n            </EditCard>\n          )}\n        </>\n     {error && <Alert variant=\"danger\">{error}</Alert>}\n    </CardWrapper>\n  );\n};\n\nexport default PersonCard;\n","import { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport {Alert, Spinner} from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport {Link} from \"react-router-dom\"\nimport { PageContainer } from \"../StyledComponents\";\nimport PersonCard from \"../UI/PersonCard\";\nimport axios from \"axios\";\n\nconst PersonsPage = () => {\n  const user = JSON.parse(useSelector((state) => state.auth.user));\n  const loading = useSelector((state) => state.auth.loader)\n  const history = useHistory();\n  const [loader, setLoader] = useState(false)\n  const [persons, setPersons] = useState([]);\n  const [error, setError] = useState('');\n\n  //get persons information\n  const getPersons = async () => {\n    setLoader(true); //turn loader on\n    const url = \"https://backend.facecloud.tevian.ru/api/v1/\";\n    try {\n      const res = await axios.get(`${url}databases/${user.db}/persons`, {\n        headers: { Authorization: `Bearer ${user.token}` },\n      });\n      setPersons(res.data.data);\n    } catch (e) {\n      setError('Error getting persons!') //set error\n    }\n    finally{\n      setLoader(false); //turn loader off\n    }\n  };\n\n  //get persons if authorized, redirect to login page if not\n  useEffect(() => {\n    if(user){\n      getPersons();\n    }\n    else{\n      history.push(\"/login\"); //redirect to login page\n    }\n  }, []);\n\n  return (\n    <PageContainer>\n      {persons && persons.map(person => <PersonCard key={person.id} person={person.data} id={person.id} getPersons={getPersons}/>)}\n      {(persons.length < 1 && !loader) && <h1>You haven't created any person yet!<br/>Create it <Link exact to='/'>here</Link></h1>}\n      {loader && <Spinner animation=\"border\" variant=\"primary\" />}\n      {error && <Alert variant=\"danger\">{error}</Alert>}\n    </PageContainer>\n  );\n};\n\nexport default PersonsPage;\n","import { Container, Row, Col } from \"react-bootstrap\";\nimport Registration from \"./components/Auth/Registration\";\nimport Login from \"./components/Auth/Login\";\nimport Navigation from './components/Navigation/Navigation'\nimport HomePage from './components/Pages/HomePage'\nimport PersonsPage from './components/Pages/PersonsPage'\nimport { Switch, Route } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <Container>\n      <Navigation />\n      <Switch>\n        <Route path=\"/register\" component={Registration} />\n        <Route path=\"/login\" component={Login} />\n        <Route path='/persons' component={PersonsPage}/>\n        <Route exact path='/' component={HomePage}/>\n      </Switch>\n    </Container>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'; \n\nimport authReducer from './auth'\nimport personReducer from './person'\n\nconst store = configureStore({\n    reducer: {auth: authReducer, person: personReducer}\n})\n\nexport default store","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/index\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport {GlobalStyle} from \"./components/StyledComponents\"\n\nReactDOM.render(\n  <BrowserRouter>\n    <GlobalStyle />\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}